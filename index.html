<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Boston Prime - Advanced TMZ Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, 
                #0a0a1a 0%, 
                #1a1a3e 25%,
                #0d1b2a 50%,
                #2e1a3e 75%,
                #0a0a1a 100%);
            color: #00d4ff;
            overflow: hidden;
            position: fixed;
            width: 100vw;
            height: 100vh;
            animation: worldPulse 25s ease-in-out infinite;
        }

        @keyframes worldPulse {
            0%, 100% { background-size: 100% 100%; }
            50% { background-size: 130% 130%; }
        }

        .world-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.95) 0%, 
                rgba(13, 27, 42, 0.9) 50%,
                rgba(46, 26, 62, 0.85) 100%);
            padding: 12px 15px 8px 15px;
            border-bottom: 3px solid #00d4ff;
            text-align: center;
            flex-shrink: 0;
            box-shadow: 
                0 4px 25px rgba(0, 212, 255, 0.4),
                0 0 60px rgba(46, 26, 62, 0.5);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 212, 255, 0.15) 50%, 
                transparent 100%);
            animation: scanLine 6s linear infinite;
        }

        @keyframes scanLine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .header h1 {
            font-size: 16px;
            text-shadow: 
                0 0 15px #00d4ff,
                0 0 30px rgba(0, 212, 255, 0.7);
            animation: titleGlow 4s ease-in-out infinite alternate;
            margin-bottom: 3px;
            color: #87ceeb;
            letter-spacing: 1.5px;
            position: relative;
            z-index: 2;
        }

        .header .status {
            font-size: 9px;
            color: #4169e1;
            opacity: 0.9;
            text-shadow: 0 0 8px rgba(65, 105, 225, 0.5);
            position: relative;
            z-index: 2;
        }

        @keyframes titleGlow {
            0% { 
                text-shadow: 
                    0 0 15px #00d4ff, 
                    0 0 25px rgba(0, 212, 255, 0.5);
            }
            100% { 
                text-shadow: 
                    0 0 25px #87ceeb, 
                    0 0 35px rgba(135, 206, 235, 0.7);
            }
        }

        .control-panel {
            display: flex;
            background: linear-gradient(90deg, 
                rgba(0, 0, 0, 0.9) 0%, 
                rgba(13, 27, 42, 0.85) 50%,
                rgba(0, 0, 0, 0.9) 100%);
            border-bottom: 1px solid rgba(0, 212, 255, 0.4);
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            flex-shrink: 0;
        }

        .control-panel::-webkit-scrollbar { display: none; }

        .control-btn {
            min-width: 85px;
            padding: 10px 8px;
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.05) 0%, 
                rgba(65, 105, 225, 0.03) 100%);
            border-right: 1px solid rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            cursor: pointer;
            transition: all 0.5s ease;
            text-align: center;
            font-size: 9px;
            font-weight: bold;
            white-space: nowrap;
            text-shadow: 0 0 6px rgba(0, 212, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(0, 212, 255, 0.3) 50%,
                transparent 100%);
            transition: left 0.6s ease;
        }

        .control-btn:hover::before,
        .control-btn.active::before {
            left: 0;
        }

        .control-btn.active {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.25) 0%, 
                rgba(65, 105, 225, 0.15) 100%);
            box-shadow: 
                inset 0 3px 0 #00d4ff,
                0 0 15px rgba(0, 212, 255, 0.3);
            color: #87ceeb;
            text-shadow: 0 0 10px rgba(135, 206, 235, 0.6);
        }

        .map-area {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: radial-gradient(circle at center,
                rgba(0, 0, 0, 0.8) 0%,
                rgba(13, 27, 42, 0.9) 40%,
                rgba(0, 0, 0, 0.95) 100%);
        }

        .city-map {
            position: absolute;
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 3px;
            padding: 12px;
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .sector {
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.7) 0%, 
                rgba(13, 27, 42, 0.6) 50%,
                rgba(0, 0, 0, 0.8) 100%);
            border: 2px solid rgba(0, 212, 255, 0.4);
            border-radius: 18px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            backdrop-filter: blur(15px);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 212, 255, 0.1),
                inset 0 1px 0 rgba(0, 212, 255, 0.2);
        }

        .sector::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                transparent 0deg,
                rgba(0, 212, 255, 0.1) 180deg,
                transparent 360deg);
            animation: rotate 20s linear infinite;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .sector:hover::before {
            opacity: 1;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .sector:hover {
            transform: scale(1.08) rotateX(8deg) rotateY(8deg);
            border-color: rgba(0, 212, 255, 0.9);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.7),
                0 0 50px rgba(0, 212, 255, 0.5),
                inset 0 2px 0 rgba(0, 212, 255, 0.5);
        }

        .sector.tapped {
            transform: scale(0.92);
            filter: brightness(1.4);
        }

        .sector-number {
            position: absolute;
            top: 12px;
            left: 12px;
            font-size: 20px;
            font-weight: bold;
            color: #00d4ff;
            text-shadow: 
                0 0 10px rgba(0, 212, 255, 0.8),
                0 0 20px rgba(0, 212, 255, 0.4);
            z-index: 3;
        }

        .sector-name {
            font-size: 10px;
            font-weight: bold;
            color: #87ceeb;
            margin-bottom: 6px;
            text-shadow: 0 0 8px rgba(135, 206, 235, 0.6);
            z-index: 3;
            position: relative;
        }

        .sector-desc {
            font-size: 7px;
            color: rgba(135, 206, 235, 0.8);
            line-height: 1.2;
            padding: 0 8px;
            text-shadow: 0 0 4px rgba(135, 206, 235, 0.3);
            z-index: 3;
            position: relative;
        }

        .sector-status {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: radial-gradient(circle, #00d4ff 0%, #4169e1 100%);
            box-shadow: 
                0 0 15px #00d4ff,
                0 0 25px rgba(0, 212, 255, 0.6);
            animation: sectorPulse 3s infinite;
            z-index: 3;
        }

        @keyframes sectorPulse {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.7;
                transform: scale(1.5);
            }
        }

        /* Data overlay for different modes */
        .sector-data {
            position: absolute;
            bottom: 8px;
            left: 8px;
            right: 8px;
            font-size: 8px;
            color: #00d4ff;
            background: rgba(0, 0, 0, 0.7);
            padding: 4px 6px;
            border-radius: 8px;
            text-shadow: 0 0 6px rgba(0, 212, 255, 0.6);
            z-index: 3;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .sector-data.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Connection lines between sectors */
        .connection-line {
            position: absolute;
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(0, 212, 255, 0.6) 20%,
                rgba(0, 212, 255, 0.8) 50%,
                rgba(0, 212, 255, 0.6) 80%,
                transparent 100%);
            height: 2px;
            z-index: 2;
            opacity: 0;
            transition: all 0.8s ease;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .connection-line.active {
            opacity: 1;
            animation: dataFlow 2s linear infinite;
        }

        @keyframes dataFlow {
            0% { 
                background-position: -100% 0;
                box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
            }
            50% {
                box-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
            }
            100% { 
                background-position: 100% 0;
                box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
            }
        }

        /* Transport hubs */
        .transport-hub {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, 
                rgba(0, 212, 255, 0.8) 0%,
                rgba(65, 105, 225, 0.6) 50%,
                transparent 100%);
            border: 2px solid #00d4ff;
            border-radius: 50%;
            z-index: 4;
            opacity: 0;
            transition: all 0.6s ease;
            box-shadow: 
                0 0 15px rgba(0, 212, 255, 0.6),
                0 0 25px rgba(0, 212, 255, 0.3);
            animation: hubPulse 4s infinite;
        }

        .transport-hub.visible {
            opacity: 1;
        }

        @keyframes hubPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 
                    0 0 15px rgba(0, 212, 255, 0.6),
                    0 0 25px rgba(0, 212, 255, 0.3);
            }
            50% { 
                transform: scale(1.3);
                box-shadow: 
                    0 0 25px rgba(0, 212, 255, 0.8),
                    0 0 35px rgba(0, 212, 255, 0.5);
            }
        }

        /* TMZ connections */
        .tmz-connection {
            position: absolute;
            background: linear-gradient(45deg,
                rgba(135, 206, 235, 0.4) 0%,
                rgba(0, 212, 255, 0.6) 50%,
                rgba(135, 206, 235, 0.4) 100%);
            height: 3px;
            z-index: 1;
            opacity: 0;
            transition: all 0.8s ease;
            border-radius: 2px;
            box-shadow: 0 0 15px rgba(135, 206, 235, 0.4);
        }

        .tmz-connection.active {
            opacity: 1;
            animation: quantumFlow 3s ease-in-out infinite;
        }

        @keyframes quantumFlow {
            0%, 100% { 
                transform: scaleY(1);
                box-shadow: 0 0 15px rgba(135, 206, 235, 0.4);
            }
            50% { 
                transform: scaleY(1.5);
                box-shadow: 0 0 25px rgba(135, 206, 235, 0.7);
            }
        }

        /* Special sector styling with mode-specific colors */
        .sector.central {
            background: linear-gradient(135deg, 
                rgba(65, 105, 225, 0.2) 0%, 
                rgba(0, 0, 0, 0.8) 50%,
                rgba(65, 105, 225, 0.15) 100%);
            border-color: rgba(65, 105, 225, 0.8);
            grid-column: 2;
            grid-row: 2;
        }

        .sector.central .sector-status {
            background: radial-gradient(circle, #4169e1 0%, #6495ed 100%);
            box-shadow: 
                0 0 20px #4169e1,
                0 0 35px rgba(65, 105, 225, 0.8);
        }

        .sector.wasteland {
            background: linear-gradient(135deg, 
                rgba(139, 69, 19, 0.3) 0%, 
                rgba(0, 0, 0, 0.9) 50%,
                rgba(139, 69, 19, 0.2) 100%);
            border-color: rgba(139, 69, 19, 0.6);
        }

        .sector.wasteland .sector-status {
            background: radial-gradient(circle, #8b4513 0%, #cd853f 100%);
            box-shadow: 
                0 0 15px #8b4513,
                0 0 25px rgba(139, 69, 19, 0.6);
            animation: dangerPulse 2s infinite;
        }

        @keyframes dangerPulse {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1);
            }
            50% { 
                opacity: 0.5;
                transform: scale(1.8);
            }
        }

        /* Mode-specific styling */
        .mode-security .sector {
            border-color: rgba(220, 20, 60, 0.6);
        }

        .mode-population .sector {
            border-color: rgba(50, 205, 50, 0.6);
        }

        .mode-temporal .sector {
            border-color: rgba(255, 215, 0, 0.6);
        }

        .mode-transport .sector {
            border-color: rgba(138, 43, 226, 0.6);
        }

        .mode-economy .sector {
            border-color: rgba(255, 165, 0, 0.6);
        }

        .mode-tmz .sector {
            border-color: rgba(0, 255, 255, 0.6);
        }

        .info-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.98) 0%, 
                rgba(13, 27, 42, 0.96) 50%,
                rgba(26, 26, 62, 0.94) 100%);
            backdrop-filter: blur(30px);
            z-index: 1000;
            transform: translateY(100%) rotateX(90deg);
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            flex-direction: column;
            border-top: 4px solid #00d4ff;
            box-shadow: 
                0 0 100px rgba(0, 212, 255, 0.3),
                inset 0 2px 0 rgba(0, 212, 255, 0.2);
        }

        .info-panel.active {
            transform: translateY(0) rotateX(0deg);
        }

        .info-header {
            padding: 20px 15px;
            border-bottom: 2px solid rgba(0, 212, 255, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            background: linear-gradient(90deg, 
                rgba(0, 212, 255, 0.05) 0%, 
                transparent 50%,
                rgba(0, 212, 255, 0.05) 100%);
        }

        .info-title {
            color: #00d4ff;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 0 12px rgba(0, 212, 255, 0.6);
            letter-spacing: 0.8px;
        }

        .close-info-btn {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.2) 0%, 
                rgba(65, 105, 225, 0.15) 100%);
            border: 2px solid rgba(0, 212, 255, 0.6);
            color: #00d4ff;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 10px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            letter-spacing: 0.4px;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }

        .close-info-btn:active {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.4) 0%, 
                rgba(65, 105, 225, 0.3) 100%);
            transform: scale(0.95);
        }

        .info-content {
            flex: 1;
            padding: 20px 15px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
        }

        .info-content::-webkit-scrollbar { width: 3px; }
        .info-content::-webkit-scrollbar-track { background: transparent; }
        .info-content::-webkit-scrollbar-thumb { 
            background: linear-gradient(to bottom, #00d4ff, #4169e1);
            border-radius: 2px;
        }

        .info-description {
            color: rgba(135, 206, 235, 0.95);
            font-size: 12px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .info-specs {
            border-top: 2px solid rgba(0, 212, 255, 0.25);
            padding-top: 20px;
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.03) 0%, 
                transparent 100%);
            border-radius: 12px;
            margin-top: 15px;
            padding: 20px 15px;
        }

        .spec-section {
            margin-bottom: 20px;
        }

        .spec-section h3 {
            color: #00d4ff;
            font-size: 12px;
            margin-bottom: 12px;
            text-shadow: 0 0 8px rgba(0, 212, 255, 0.5);
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            font-size: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 212, 255, 0.15);
        }

        .spec-label {
            color: #00d4ff;
            font-weight: bold;
            text-shadow: 0 0 6px rgba(0, 212, 255, 0.5);
        }

        .spec-value {
            color: rgba(135, 206, 235, 0.9);
            text-align: right;
            max-width: 60%;
        }

        .danger-warning {
            background: linear-gradient(135deg,
                rgba(220, 20, 60, 0.2) 0%,
                rgba(139, 0, 0, 0.1) 100%);
            border: 1px solid rgba(220, 20, 60, 0.5);
            border-radius: 8px;
            padding: 12px;
            margin: 15px 0;
            color: #ff6b6b;
            font-size: 10px;
            text-shadow: 0 0 6px rgba(255, 107, 107, 0.4);
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: radial-gradient(circle, #00d4ff 0%, #4169e1 100%);
            border-radius: 50%;
            animation: float 15s linear infinite;
            box-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
        }

        @keyframes float {
            0% { 
                transform: translateY(100vh) translateX(0) rotate(0deg); 
                opacity: 0; 
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { 
                transform: translateY(-100px) translateX(150px) rotate(360deg); 
                opacity: 0; 
            }
        }

        .quantum-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.08) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.08) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: gridPulse 12s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes gridPulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.6; }
        }

        .help-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.25) 0%, 
                rgba(65, 105, 225, 0.2) 100%);
            border: 3px solid #00d4ff;
            color: #00d4ff;
            cursor: pointer;
            font-weight: bold;
            font-size: 9px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: helpFloat 6s ease-in-out infinite;
            z-index: 100;
            backdrop-filter: blur(15px);
            text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
            box-shadow: 
                0 0 30px rgba(0, 212, 255, 0.4),
                0 8px 25px rgba(0, 0, 0, 0.3);
        }

        @keyframes helpFloat {
            0%, 100% { 
                transform: translateY(0) rotateZ(0deg);
            }
            50% { 
                transform: translateY(-8px) rotateZ(5deg);
            }
        }

        .help-btn:active {
            transform: scale(0.9);
        }

        /* World Guide Modal */
        .world-guide-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.98) 0%, 
                rgba(13, 27, 42, 0.96) 50%,
                rgba(26, 26, 62, 0.94) 100%);
            backdrop-filter: blur(30px);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            flex-direction: column;
            transform: scale(0.3) rotateY(90deg);
        }

        .world-guide-modal.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1) rotateY(0deg);
        }

        .world-guide-header {
            padding: 25px 20px;
            border-bottom: 3px solid #00d4ff;
            text-align: center;
            background: linear-gradient(90deg, 
                rgba(0, 212, 255, 0.1) 0%, 
                transparent 50%,
                rgba(0, 212, 255, 0.1) 100%);
            position: relative;
            overflow: hidden;
        }

        .world-guide-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(0, 212, 255, 0.2) 50%, 
                transparent 100%);
            animation: scanLine 4s linear infinite;
        }

        .world-guide-title {
            color: #00d4ff;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 
                0 0 15px rgba(0, 212, 255, 0.8),
                0 0 30px rgba(0, 212, 255, 0.5);
            letter-spacing: 2px;
            margin-bottom: 8px;
            position: relative;
            z-index: 2;
            animation: titlePulse 3s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% { 
                text-shadow: 
                    0 0 15px rgba(0, 212, 255, 0.8),
                    0 0 30px rgba(0, 212, 255, 0.5);
            }
            50% { 
                text-shadow: 
                    0 0 25px rgba(135, 206, 235, 0.9),
                    0 0 40px rgba(135, 206, 235, 0.6);
            }
        }

        .world-guide-subtitle {
            color: rgba(135, 206, 235, 0.9);
            font-size: 12px;
            position: relative;
            z-index: 2;
        }

        .temporal-clock-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 212, 255, 0.3);
            border-radius: 50%;
            opacity: 0;
            animation: clockAppear 2s ease-out forwards;
        }

        .temporal-clock-animation::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 2px;
            height: 20px;
            background: #00d4ff;
            border-radius: 2px;
            transform-origin: 50% 100%;
            animation: clockHand 2s linear infinite;
        }

        .temporal-clock-animation::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1px;
            height: 15px;
            background: #87ceeb;
            border-radius: 1px;
            transform-origin: 50% 100%;
            animation: clockHand 24s linear infinite;
        }

        @keyframes clockAppear {
            0% { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
            }
            100% { 
                opacity: 0.7; 
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
            }
        }

        @keyframes clockHand {
            from { transform: translate(-50%, -100%) rotate(0deg); }
            to { transform: translate(-50%, -100%) rotate(360deg); }
        }

        .temporal-energy-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .energy-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #00d4ff 0%, transparent 70%);
            border-radius: 50%;
            animation: energyFloat 3s ease-in-out infinite;
            opacity: 0;
        }

        .energy-particle:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .energy-particle:nth-child(2) { top: 30%; left: 80%; animation-delay: 0.5s; }
        .energy-particle:nth-child(3) { top: 60%; left: 20%; animation-delay: 1s; }
        .energy-particle:nth-child(4) { top: 70%; left: 70%; animation-delay: 1.5s; }
        .energy-particle:nth-child(5) { top: 40%; left: 50%; animation-delay: 2s; }

        @keyframes energyFloat {
            0%, 100% { 
                opacity: 0; 
                transform: translateY(0) scale(1);
            }
            50% { 
                opacity: 1; 
                transform: translateY(-20px) scale(1.5);
                box-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
            }
        }

        .world-guide-content {
            flex: 1;
            padding: 25px 20px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
        }

        .world-guide-content::-webkit-scrollbar { width: 4px; }
        .world-guide-content::-webkit-scrollbar-track { background: transparent; }
        .world-guide-content::-webkit-scrollbar-thumb { 
            background: linear-gradient(to bottom, #00d4ff, #4169e1);
            border-radius: 2px;
        }

        .guide-section {
            margin-bottom: 25px;
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.03) 0%, 
                transparent 100%);
            border-radius: 12px;
            padding: 18px 15px;
            border-left: 3px solid rgba(0, 212, 255, 0.3);
            opacity: 0;
            transform: translateY(30px);
            animation: sectionAppear 0.8s ease-out forwards;
        }

        .guide-section:nth-child(1) { animation-delay: 0.2s; }
        .guide-section:nth-child(2) { animation-delay: 0.4s; }
        .guide-section:nth-child(3) { animation-delay: 0.6s; }
        .guide-section:nth-child(4) { animation-delay: 0.8s; }
        .guide-section:nth-child(5) { animation-delay: 1.0s; }
        .guide-section:nth-child(6) { animation-delay: 1.2s; }
        .guide-section:nth-child(7) { animation-delay: 1.4s; }

        @keyframes sectionAppear {
            0% { 
                opacity: 0; 
                transform: translateY(30px);
            }
            100% { 
                opacity: 1; 
                transform: translateY(0);
            }
        }

        .guide-section h3 {
            color: #00d4ff;
            font-size: 14px;
            margin-bottom: 12px;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.6);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .guide-section-icon {
            font-size: 16px;
            animation: iconPulse 2s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .guide-section p {
            color: rgba(135, 206, 235, 0.95);
            font-size: 12px;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .guide-highlight {
            background: linear-gradient(135deg,
                rgba(0, 212, 255, 0.15) 0%,
                rgba(65, 105, 225, 0.1) 100%);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            padding: 10px 12px;
            margin: 10px 0;
            color: #87ceeb;
            font-size: 11px;
            text-shadow: 0 0 6px rgba(135, 206, 235, 0.4);
        }

        .guide-close-btn {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.25) 0%, 
                rgba(65, 105, 225, 0.2) 100%);
            border: 3px solid #00d4ff;
            color: #00d4ff;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 12px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            letter-spacing: 1px;
            margin: 20px auto;
            display: block;
            transition: all 0.5s ease;
            text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
            box-shadow: 
                0 0 30px rgba(0, 212, 255, 0.3),
                0 8px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .guide-close-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(0, 212, 255, 0.3) 50%,
                transparent 100%);
            transition: left 0.6s ease;
        }

        .guide-close-btn:hover::before {
            left: 100%;
        }

        .guide-close-btn:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.4) 0%, 
                rgba(65, 105, 225, 0.3) 100%);
        }

        .mode-indicator {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg,
                rgba(0, 212, 255, 0.2) 0%,
                rgba(65, 105, 225, 0.1) 100%);
            border: 1px solid rgba(0, 212, 255, 0.5);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 9px;
            color: #87ceeb;
            backdrop-filter: blur(10px);
            z-index: 10;
            transition: all 0.6s ease;
        }

        .data-streams {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .data-stream {
            position: absolute;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom,
                transparent 0%,
                #00d4ff 50%,
                transparent 100%);
            animation: dataStreamFlow 3s linear infinite;
        }

        .data-stream:nth-child(1) { right: 10%; animation-delay: 0s; }
        .data-stream:nth-child(2) { right: 30%; animation-delay: 1s; }
        .data-stream:nth-child(3) { right: 50%; animation-delay: 2s; }
        .data-stream:nth-child(4) { right: 70%; animation-delay: 0.5s; }
        .data-stream:nth-child(5) { right: 90%; animation-delay: 1.5s; }

        @keyframes dataStreamFlow {
            0% { transform: translateY(-100%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="world-container">
        <div class="header">
            <h1>BOSTON PRIME TMZ</h1>
            <div class="status">TEMPORAL METROPOLITAN ZONE ‚Ä¢ CHRONOS CONTROL ACTIVE ‚Ä¢ POPULATION: 2.7M</div>
        </div>

        <div class="control-panel">
            <div class="control-btn active" data-mode="overview">OVERVIEW</div>
            <div class="control-btn" data-mode="security">SECURITY</div>
            <div class="control-btn" data-mode="population">POPULATION</div>
            <div class="control-btn" data-mode="temporal">TEMPORAL</div>
            <div class="control-btn" data-mode="transport">TRANSPORT</div>
            <div class="control-btn" data-mode="economy">ECONOMY</div>
            <div class="control-btn" data-mode="tmz">TMZ NETWORK</div>
        </div>

        <div class="map-area">
            <div class="quantum-grid"></div>
            <div class="mode-indicator" id="modeIndicator">OVERVIEW MODE</div>
            <div class="data-streams">
                <div class="data-stream"></div>
                <div class="data-stream"></div>
                <div class="data-stream"></div>
                <div class="data-stream"></div>
                <div class="data-stream"></div>
            </div>
            
            <div class="city-map" id="cityMap">
                <!-- Sector 1 - Central Command -->
                <div class="sector central" data-sector="1">
                    <div class="sector-number">1</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">CENTRAL COMMAND</div>
                    <div class="sector-desc">CHRONOS HQ ‚Ä¢ Master Clock ‚Ä¢ Executive Zone</div>
                    <div class="sector-data" id="data-1"></div>
                </div>

                <!-- Sector 2 - Research District -->
                <div class="sector" data-sector="2">
                    <div class="sector-number">2</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">RESEARCH DISTRICT</div>
                    <div class="sector-desc">Quantum Labs ‚Ä¢ Temporal Research ‚Ä¢ Innovation</div>
                    <div class="sector-data" id="data-2"></div>
                </div>

                <!-- Sector 3 - Elite Residential -->
                <div class="sector" data-sector="3">
                    <div class="sector-number">3</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">ELITE RESIDENTIAL</div>
                    <div class="sector-desc">Luxury Housing ‚Ä¢ Temporal Gardens ‚Ä¢ High Society</div>
                    <div class="sector-data" id="data-3"></div>
                </div>

                <!-- Sector 4 - General Residential -->
                <div class="sector" data-sector="4">
                    <div class="sector-number">4</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">GENERAL RESIDENTIAL</div>
                    <div class="sector-desc">Main Population ‚Ä¢ Y/N's Workplace ‚Ä¢ Daily Life</div>
                    <div class="sector-data" id="data-4"></div>
                </div>

                <!-- Sector 5 - Manufacturing -->
                <div class="sector" data-sector="5">
                    <div class="sector-number">5</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">MANUFACTURING</div>
                    <div class="sector-desc">Production ‚Ä¢ Chrono-Sync Factory ‚Ä¢ Industrial</div>
                    <div class="sector-data" id="data-5"></div>
                </div>

                <!-- Sector 6 - Agricultural -->
                <div class="sector" data-sector="6">
                    <div class="sector-number">6</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">AGRICULTURAL ZONE</div>
                    <div class="sector-desc">Time-Accelerated Farming ‚Ä¢ Food Production</div>
                    <div class="sector-data" id="data-6"></div>
                </div>

                <!-- Sector 7 - Containment -->
                <div class="sector" data-sector="7">
                    <div class="sector-number">7</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">TEMPORAL CONTAINMENT</div>
                    <div class="sector-desc">Erasure Processing ‚Ä¢ Outlier Detention ‚Ä¢ Classified</div>
                    <div class="sector-data" id="data-7"></div>
                </div>

                <!-- Sector 8 - Outer Boundary -->
                <div class="sector" data-sector="8">
                    <div class="sector-number">8</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">OUTER BOUNDARY</div>
                    <div class="sector-desc">Buffer Zone ‚Ä¢ Transit Gates ‚Ä¢ Wasteland Edge</div>
                    <div class="sector-data" id="data-8"></div>
                </div>

                <!-- Quantum Wasteland -->
                <div class="sector wasteland" data-sector="wasteland">
                    <div class="sector-number">‚ö†</div>
                    <div class="sector-status"></div>
                    <div class="sector-name">QUANTUM WASTELAND</div>
                    <div class="sector-desc">Reality Distortions ‚Ä¢ Temporal Storms ‚Ä¢ Forbidden</div>
                    <div class="sector-data" id="data-wasteland"></div>
                </div>

                <!-- Connection Lines (Hidden by default) -->
                <div class="connection-line" id="line-1-2"></div>
                <div class="connection-line" id="line-1-4"></div>
                <div class="connection-line" id="line-2-3"></div>
                <div class="connection-line" id="line-3-6"></div>
                <div class="connection-line" id="line-4-5"></div>
                <div class="connection-line" id="line-4-7"></div>
                <div class="connection-line" id="line-5-8"></div>
                <div class="connection-line" id="line-6-9"></div>
                <div class="connection-line" id="line-7-8"></div>

                <!-- Transport Hubs (Hidden by default) -->
                <div class="transport-hub" id="hub-central" style="top: 50%; left: 50%;"></div>
                <div class="transport-hub" id="hub-north" style="top: 20%; left: 50%;"></div>
                <div class="transport-hub" id="hub-south" style="top: 80%; left: 50%;"></div>
                <div class="transport-hub" id="hub-east" style="top: 50%; left: 80%;"></div>
                <div class="transport-hub" id="hub-west" style="top: 50%; left: 20%;"></div>

                <!-- TMZ Connections (Hidden by default) -->
                <div class="tmz-connection" id="tmz-northeast" style="top: 10%; left: 60%; width: 35%; transform: rotate(30deg);"></div>
                <div class="tmz-connection" id="tmz-northwest" style="top: 10%; left: 5%; width: 35%; transform: rotate(-30deg);"></div>
                <div class="tmz-connection" id="tmz-southeast" style="top: 85%; left: 60%; width: 35%; transform: rotate(-30deg);"></div>
                <div class="tmz-connection" id="tmz-southwest" style="top: 85%; left: 5%; width: 35%; transform: rotate(30deg);"></div>
            </div>
        </div>

        <div class="info-panel" id="infoPanel">
            <div class="info-header">
                <div class="info-title" id="infoTitle">SECTOR INFORMATION</div>
                <button class="close-info-btn" onclick="closeInfo()">CLOSE</button>
            </div>
            <div class="info-content">
                <div class="info-description" id="infoDescription">
                    Select a sector to view detailed information about the area.
                </div>
                <div class="info-specs" id="infoSpecs"></div>
            </div>
        </div>

        <button class="help-btn" onclick="openWorldGuide()">
            WORLD<br>GUIDE
        </button>

        <div class="world-guide-modal" id="worldGuideModal">
            <div class="world-guide-header">
                <div class="temporal-clock-animation"></div>
                <div class="temporal-energy-particles">
                    <div class="energy-particle"></div>
                    <div class="energy-particle"></div>
                    <div class="energy-particle"></div>
                    <div class="energy-particle"></div>
                    <div class="energy-particle"></div>
                </div>
                <div class="world-guide-title">TEMPORAL WORLD GUIDE</div>
                <div class="world-guide-subtitle">Understanding the CHRONOS Dystopia</div>
            </div>
            <div class="world-guide-content">
                <div class="guide-section">
                    <h3><span class="guide-section-icon">üèôÔ∏è</span>TEMPORAL METROPOLITAN ZONES</h3>
                    <p>After the devastating Quantum Wars of 2157, traditional nations collapsed into radioactive wastelands. Humanity now survives in 127 controlled Temporal Metropolitan Zones (TMZs) scattered across the globe.</p>
                    <div class="guide-highlight">
                        <strong>Key Facts:</strong> Each TMZ is connected by quantum rails and separated by 27-kilometer buffer zones of dangerous quantum wasteland where reality itself is broken.
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">‚è∞</span>THE 24-HOUR SYSTEM</h3>
                    <p>CHRONOS enforces an artificial 24-hour day across all reality through the Master Clock. The natural 25-hour cycle that existed before the wars was completely erased from history and human memory.</p>
                    <div class="guide-highlight">
                        <strong>Reality:</strong> Citizens live by schedules monitored to the second. Deviation of more than 0.3 seconds triggers automatic compliance review.
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üéØ</span>TEMPORAL COMPLIANCE RATING</h3>
                    <p>Every citizen has a TCR (0-100) based on schedule adherence, reality perception stability, and temporal signature consistency. Your rating determines everything: housing, job, food quality, even social permissions.</p>
                    <div class="guide-highlight">
                        <strong>Thresholds:</strong> 93+ grants premium access ‚Ä¢ 87+ is average ‚Ä¢ Below 73 triggers mandatory compliance counseling ‚Ä¢ Below 50 means sector restrictions
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üö´</span>OUTLIERS & THE 25TH HOUR</h3>
                    <p>Some people can experience the hidden 25th hour when time freezes at 1:59 AM. These "Outliers" can move freely while reality is suspended. They are hunted by the Erasure Bureau and either completely rewritten or detained in Sector 7.</p>
                    <div class="guide-highlight">
                        <strong>Danger Level:</strong> If caught, Outliers don't go to prison‚Äîthey vanish. Their existence is erased and rewritten. The public believes they never existed.
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üöä</span>TRANSPORT SYSTEMS</h3>
                    <p>Movement between sectors and TMZs is strictly controlled through quantum technology that manipulates time itself during travel.</p>
                    <div class="guide-highlight">
                        <strong>Systems:</strong> Chrono-Rails travel at 737 km/h while passengers experience only 7% temporal passage ‚Ä¢ Aerial "time bubbles" for VIP transport ‚Ä¢ Quantum teleportation limited to 7 uses per person per year
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üíä</span>REALITY CONTROL TECHNOLOGY</h3>
                    <p>CHRONOS maintains control through sophisticated reality manipulation that most citizens never realize exists.</p>
                    <div class="guide-highlight">
                        <strong>Methods:</strong> Mandatory contact lenses filter out temporal anomalies ‚Ä¢ Water contains neural suppressants ‚Ä¢ Memory adjustments ensure citizens never question the system ‚Ä¢ Chrono-Sync Watches monitor everyone continuously
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üåç</span>THE QUANTUM WASTELANDS</h3>
                    <p>Outside the safe TMZs lie the quantum wastelands where temporal weapons shattered reality itself. Time flows chaotically‚Äîwalking 100 meters might take 7 seconds or 7 hours. Plants grow and ungrow in endless cycles while echoes precede their sounds.</p>
                    <div class="guide-highlight">
                        <strong>Survival Rate:</strong> Less than 0.1% for unprotected humans. CHRONOS uses these areas for dangerous experiments that are absolutely classified.
                    </div>
                </div>

                <div class="guide-section">
                    <h3><span class="guide-section-icon">üìä</span>ANALYSIS MODES EXPLAINED</h3>
                    <p>Each mode reveals different aspects of CHRONOS control:</p>
                    <div class="guide-highlight">
                        <strong>üî¥ SECURITY:</strong> Threat levels and access restrictions<br>
                        <strong>üü¢ POPULATION:</strong> Citizen density and demographics<br>  
                        <strong>üü° TEMPORAL:</strong> Time flow stability and anomaly rates<br>
                        <strong>üü£ TRANSPORT:</strong> Inter-sector and TMZ connections<br>
                        <strong>üü† ECONOMY:</strong> Production levels and resource allocation<br>
                        <strong>üîµ TMZ NETWORK:</strong> Global connections to other metropolitan zones
                    </div>
                </div>
            </div>
            <button class="guide-close-btn" onclick="closeWorldGuide()">CLOSE GUIDE</button>
        </div>üü¢ POPULATION:</strong> Citizen density and demographics<br>  
                        <strong>üü° TEMPORAL:</strong> Time flow stability and anomaly rates<br>
                        <strong>üü£ TRANSPORT:</strong> Inter-sector and TMZ connections<br>
                        <strong>üü† ECONOMY:</strong> Production levels and resource allocation<br>
                        <strong>üîµ TMZ NETWORK:</strong> Global connections to other metropolitan zones
                    </div>
                </div>
            </div>
            <button class="guide-close-btn" onclick="closeWorldGuide()">CLOSE GUIDE</button>
        </div>

        <div class="floating-particles" id="particles"></div>
    </div>

    <script>
        const sectorData = {
            '1': {
                title: 'SECTOR 1 - CENTRAL COMMAND',
                description: 'The nerve center of CHRONOS control. Here lies the Master Clock, the physical nexus that maintains the artificial 24-hour cycle across all reality. Only the highest-ranking officials have access to this ultra-secured zone where time itself is controlled.',
                specs: {
                    'Security Classification': 'ULTRA SECRET',
                    'Population': '3,247 (Elite Personnel Only)',
                    'Temporal Stability': '99.97%',
                    'Master Clock Status': 'OPERATIONAL',
                    'Reality Anchors': '847 Active Units',
                    'Access Level': 'Director+ Only',
                    'Power Consumption': '23.7MW Continuous',
                    'Threat Level': 'MAXIMUM SECURITY'
                },
                stats: {
                    security: 100,
                    population: 15,
                    temporal: 100,
                    transport: 95,
                    economy: 90,
                    tmz: 100
                },
                connections: ['2', '4'],
                transportHubs: ['central', 'north', 'south', 'east', 'west'],
                tmzConnections: ['New York Prime', 'Washington DC TMZ', 'Philadelphia Complex']
            },
            '2': {
                title: 'SECTOR 2 - RESEARCH DISTRICT',
                description: 'The scientific heart of Boston Prime. Quantum laboratories push the boundaries of temporal science while reality testing chambers ensure no anomalies escape detection. Blue-tinted windows filter specific wavelengths that could destabilize temporal fields.',
                specs: {
                    'Security Classification': 'SECRET',
                    'Population': '47,823 (Scientists & Support)',
                    'Temporal Stability': '97.2%',
                    'Active Research Projects': '1,847',
                    'Quantum Labs': '73 Facilities',
                    'Blue Light Filtering': '99.3% Effective',
                    'Oxygen Enhancement': '+3.1% Above Standard',
                    'Innovation Index': '847.3 (Very High)'
                },
                stats: {
                    security: 85,
                    population: 35,
                    temporal: 90,
                    transport: 70,
                    economy: 85,
                    tmz: 80
                },
                connections: ['1', '3'],
                transportHubs: ['north'],
                tmzConnections: ['MIT Cambridge TMZ', 'Harvard Research Zone']
            },
            '3': {
                title: 'SECTOR 3 - ELITE RESIDENTIAL',
                description: 'Where the temporal elite reside in luxury. Precisely spaced mansions with quantum-responsive architecture that subtly shifts throughout the day. Temporal harmony gardens bloom in perfect synchronization, a testament to CHRONOS control over nature itself.',
                specs: {
                    'Security Classification': 'RESTRICTED',
                    'Population': '13,427 (TCR 90+ Required)',
                    'Temporal Stability': '96.8%',
                    'Building Spacing': '43.7m Precise',
                    'Temporal Clearance': 'Level 4+ Only',
                    'Synchronized Gardens': '847 Installations',
                    'Reality Stability': '98.7%',
                    'Average Income': '847K Credits/Year'
                },
                stats: {
                    security: 80,
                    population: 25,
                    temporal: 95,
                    transport: 60,
                    economy: 100,
                    tmz: 70
                },
                connections: ['2', '6'],
                transportHubs: ['east'],
                tmzConnections: ['Beacon Hill Executive Zone']
            },
            '4': {
                title: 'SECTOR 4 - GENERAL RESIDENTIAL',
                description: 'The beating heart of Boston Prime where most citizens live their carefully regulated lives. Home to the Chrono Monitoring Center where Y/N works, analyzing temporal anomalies. The Garden of Stability provides a false sense of nature in this controlled environment.',
                specs: {
                    'Security Classification': 'STANDARD',
                    'Population': '847,392 (General Citizens)',
                    'Temporal Stability': '94.3%',
                    'Population Density': '47 per sq km',
                    'Anomaly Reports': '17/month Average',
                    'Chrono Monitoring Center': 'Building 734B',
                    'Compliance Events': '92% Synchronized',
                    'Y/N Workplace Location': 'Level 5, Station 73'
                },
                stats: {
                    security: 60,
                    population: 100,
                    temporal: 85,
                    transport: 90,
                    economy: 70,
                    tmz: 60
                },
                connections: ['1', '5', '7'],
                transportHubs: ['central', 'west'],
                tmzConnections: ['Cambridge Residential', 'Somerville Housing District']
            },
            '5': {
                title: 'SECTOR 5 - MANUFACTURING',
                description: 'The industrial backbone producing temporally-stable goods. The massive Chrono-Sync Watch factory operates in accelerated time chambers, producing thousands of monitoring devices daily. Workers follow schedules monitored to the second.',
                specs: {
                    'Security Classification': 'STANDARD',
                    'Population': '234,847 (Industrial Workers)',
                    'Temporal Stability': '91.7%',
                    'Production Efficiency': '99.3% Timeline Adherence',
                    'Chrono-Sync Production': '73,000 Units/Day',
                    'Air Quality': '17% Below Other Sectors',
                    'Noise Level': '74dB Average',
                    'Shift Monitoring': 'Every 7 Minutes'
                },
                stats: {
                    security: 50,
                    population: 80,
                    temporal: 80,
                    transport: 95,
                    economy: 90,
                    tmz: 85
                },
                connections: ['4', '8'],
                transportHubs: ['south', 'west'],
                tmzConnections: ['Providence Industrial', 'Hartford Manufacturing TMZ']
            },
            '6': {
                title: 'SECTOR 6 - AGRICULTURAL ZONE',
                description: 'Time-accelerated farming feeds the city. Crops grow at 327% normal speed in controlled temporal fields. Vertical towers stretch skyward, each level managing different growth phases through precise time manipulation.',
                specs: {
                    'Security Classification': 'STANDARD',
                    'Population': '98,473 (Agricultural Workers)',
                    'Temporal Stability': '88.4%',
                    'Growth Acceleration': '327% Above Natural',
                    'Artificial Light Cycle': '14.7 Hours Optimal',
                    'Water Purity': '99.97% After Temporal Filtering',
                    'Vertical Towers': '847 Active Units',
                    'Food Production': '847% City Requirements'
                },
                stats: {
                    security: 40,
                    population: 45,
                    temporal: 75,
                    transport: 50,
                    economy: 75,
                    tmz: 40
                },
                connections: ['3', 'wasteland'],
                transportHubs: ['east'],
                tmzConnections: ['Vermont Agricultural TMZ']
            },
            '7': {
                title: 'SECTOR 7 - TEMPORAL CONTAINMENT',
                description: 'The most feared sector in Boston Prime. Here, Outliers are processed and erased, their very existence rewritten. Circular architecture prevents temporal escape while reality anchors consume 47% of the city\'s power to maintain absolute control.',
                specs: {
                    'Security Classification': 'ULTRA SECRET',
                    'Population': 'CLASSIFIED',
                    'Temporal Stability': 'CLASSIFIED',
                    'Circular Radius': '1,247 Meters Precise',
                    'Power Consumption': '47% of City Total',
                    'Reality Anchors': 'Maximum Density',
                    'Erasure Processing': 'OPERATIONAL',
                    'Access': 'Temporal Enforcement Only'
                },
                danger: true,
                stats: {
                    security: 100,
                    population: 5,
                    temporal: 60,
                    transport: 20,
                    economy: 30,
                    tmz: 90
                },
                connections: ['4', '8'],
                transportHubs: [],
                tmzConnections: ['Classified TMZ Facilities']
            },
            '8': {
                title: 'SECTOR 8 - OUTER BOUNDARY',
                description: 'The city\'s defensive perimeter where reality gradually transitions from CHRONOS control to the chaotic wasteland beyond. Transit gates scan every soul entering or leaving, while temporal adaptation chambers help travelers adjust to different time flows.',
                specs: {
                    'Security Classification': 'RESTRICTED',
                    'Population': '27,384 (Security Personnel)',
                    'Temporal Stability': '84.2%',
                    'Transit Gates': '73 Active Checkpoints',
                    'Anomaly Detection': '273% Higher Than Interior',
                    'Temporal Gradient': 'Gradual Normalization',
                    'Reality Anchors': 'Disguised as Public Art',
                    'Buffer Zone Width': '27 Kilometers'
                },
                stats: {
                    security: 95,
                    population: 20,
                    temporal: 70,
                    transport: 100,
                    economy: 40,
                    tmz: 95
                },
                connections: ['5', '7'],
                transportHubs: ['south', 'central'],
                tmzConnections: ['All TMZ Network Entry Points', 'Quantum Rail Terminals']
            },
            'wasteland': {
                title: 'QUANTUM WASTELAND',
                description: 'The scarred remains of the Quantum Wars, where temporal weapons tore reality itself. Time flows chaotically - walking 100 meters might take seconds or hours. Plants grow and ungrow in endless cycles while echoes precede their sounds. CHRONOS uses this wasteland for dangerous experiments.',
                specs: {
                    'Danger Level': 'EXTREME - DO NOT ENTER',
                    'Reality Stability': 'CRITICAL FAILURE',
                    'Time Flow': 'CHAOTIC - UNPREDICTABLE',
                    'Survival Rate': '<0.1% for Unprotected',
                    'Temporal Storms': 'Frequent',
                    'CHRONOS Experiments': 'CLASSIFIED',
                    'Recovery Timeline': 'Unknown',
                    'Access': 'ABSOLUTELY FORBIDDEN'
                },
                danger: true,
                stats: {
                    security: 0,
                    population: 0,
                    temporal: 10,
                    transport: 0,
                    economy: 0,
                    tmz: 0
                },
                connections: ['6'],
                transportHubs: [],
                tmzConnections: ['Other Quantum Wastelands Globally']
            }
        };

        const modeData = {
            overview: { 
                label: 'OVERVIEW MODE', 
                color: '#00d4ff',
                description: 'General sector information and basic layout'
            },
            security: { 
                label: 'SECURITY ANALYSIS', 
                color: '#dc143c',
                description: 'Threat levels, access restrictions, and monitoring intensity'
            },
            population: { 
                label: 'POPULATION DENSITY', 
                color: '#32cd32',
                description: 'Citizen distribution, demographics, and capacity metrics'
            },
            temporal: { 
                label: 'TEMPORAL STABILITY', 
                color: '#ffd700',
                description: 'Time flow consistency, reality anchor strength, and anomaly rates'
            },
            transport: { 
                label: 'TRANSPORT NETWORK', 
                color: '#8a2be2',
                description: 'Inter-sector connections, transit hubs, and movement patterns'
            },
            economy: { 
                label: 'ECONOMIC STATUS', 
                color: '#ffa500',
                description: 'Production levels, resource allocation, and economic activity'
            },
            tmz: { 
                label: 'TMZ NETWORK', 
                color: '#00ffff',
                description: 'Connections to other Temporal Metropolitan Zones worldwide'
            }
        };

        let currentMode = 'overview';
        let isTransitioning = false;

        // Create floating particles
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 40; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 8 + 10) + 's';
                container.appendChild(particle);
            }
        }

        // Mode switching with dramatic visual changes
        function switchMode(mode) {
            if (isTransitioning || mode === currentMode) return;
            
            isTransitioning = true;
            currentMode = mode;
            
            // Update control buttons
            document.querySelectorAll('.control-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mode === mode);
            });
            
            // Update mode indicator
            const indicator = document.getElementById('modeIndicator');
            const modeInfo = modeData[mode];
            indicator.textContent = modeInfo.label;
            indicator.style.borderColor = modeInfo.color;
            indicator.style.color = modeInfo.color;
            
            // Update body class for mode-specific styling
            document.body.className = `mode-${mode}`;
            
            // Update sector visuals and data
            updateSectorVisuals(mode);
            updateSectorData(mode);
            updateConnections(mode);
            
            setTimeout(() => {
                isTransitioning = false;
            }, 1200);
        }

        function updateSectorVisuals(mode) {
            const sectors = document.querySelectorAll('.sector');
            const modeColor = modeData[mode].color;
            
            sectors.forEach(sector => {
                const sectorId = sector.dataset.sector;
                const data = sectorData[sectorId];
                
                if (!data || !data.stats) return;
                
                let intensity = data.stats[mode] / 100;
                let alpha = Math.max(0.1, intensity);
                
                // Convert hex to rgb for alpha manipulation
                const r = parseInt(modeColor.slice(1, 3), 16);
                const g = parseInt(modeColor.slice(3, 5), 16);
                const b = parseInt(modeColor.slice(5, 7), 16);
                
                if (mode !== 'overview') {
                    sector.style.borderColor = `rgba(${r}, ${g}, ${b}, ${alpha * 0.9})`;
                    sector.style.background = `linear-gradient(135deg, 
                        rgba(${r}, ${g}, ${b}, ${alpha * 0.15}) 0%, 
                        rgba(0, 0, 0, 0.8) 50%,
                        rgba(${r}, ${g}, ${b}, ${alpha * 0.1}) 100%)`;
                    
                    // Update status indicator
                    const statusIndicator = sector.querySelector('.sector-status');
                    if (statusIndicator) {
                        statusIndicator.style.background = `radial-gradient(circle, rgba(${r}, ${g}, ${b}, 1) 0%, rgba(${r}, ${g}, ${b}, 0.7) 100%)`;
                        statusIndicator.style.boxShadow = `0 0 ${15 + intensity * 10}px rgba(${r}, ${g}, ${b}, ${alpha})`;
                    }
                } else {
                    // Reset to default styling
                    sector.style.borderColor = '';
                    sector.style.background = '';
                    const statusIndicator = sector.querySelector('.sector-status');
                    if (statusIndicator) {
                        statusIndicator.style.background = '';
                        statusIndicator.style.boxShadow = '';
                    }
                }
            });
        }

        function updateSectorData(mode) {
            const sectors = document.querySelectorAll('.sector');
            
            sectors.forEach(sector => {
                const sectorId = sector.dataset.sector;
                const data = sectorData[sectorId];
                const dataElement = sector.querySelector('.sector-data');
                
                if (!data || !data.stats || !dataElement) return;
                
                let content = '';
                const value = data.stats[mode];
                
                switch(mode) {
                    case 'security':
                        content = `THREAT: ${value > 80 ? 'MAX' : value > 60 ? 'HIGH' : value > 40 ? 'MED' : 'LOW'} ‚Ä¢ ${value}/100`;
                        break;
                    case 'population':
                        const popText = value > 80 ? 'DENSE' : value > 60 ? 'MODERATE' : value > 20 ? 'SPARSE' : 'MINIMAL';
                        content = `DENSITY: ${popText} ‚Ä¢ ${value}%`;
                        break;
                    case 'temporal':
                        content = `STABILITY: ${value > 90 ? 'STABLE' : value > 70 ? 'MODERATE' : value > 50 ? 'UNSTABLE' : 'CRITICAL'} ‚Ä¢ ${value}%`;
                        break;
                    case 'transport':
                        const connections = data.connections ? data.connections.length : 0;
                        const hubs = data.transportHubs ? data.transportHubs.length : 0;
                        content = `ROUTES: ${connections} ‚Ä¢ HUBS: ${hubs} ‚Ä¢ RATING: ${value}%`;
                        break;
                    case 'economy':
                        const ecoText = value > 80 ? 'THRIVING' : value > 60 ? 'STABLE' : value > 40 ? 'STRUGGLING' : 'POOR';
                        content = `STATUS: ${ecoText} ‚Ä¢ INDEX: ${value}`;
                        break;
                    case 'tmz':
                        const tmzCount = data.tmzConnections ? data.tmzConnections.length : 0;
                        content = `TMZ LINKS: ${tmzCount} ‚Ä¢ NETWORK: ${value}%`;
                        break;
                    default:
                        content = `OPERATIONAL STATUS: ACTIVE`;
                }
                
                dataElement.textContent = content;
                
                if (mode !== 'overview') {
                    dataElement.classList.add('visible');
                } else {
                    dataElement.classList.remove('visible');
                }
            });
        }

        function updateConnections(mode) {
            // Hide all connections first
            document.querySelectorAll('.connection-line, .transport-hub, .tmz-connection').forEach(el => {
                el.classList.remove('active', 'visible');
            });
            
            if (mode === 'transport') {
                // Show transport hubs and internal connections
                document.querySelectorAll('.transport-hub').forEach(hub => {
                    hub.classList.add('visible');
                });
                
                // Show connection lines between sectors
                const connections = [
                    {from: '1', to: '2', line: 'line-1-2'},
                    {from: '1', to: '4', line: 'line-1-4'},
                    {from: '2', to: '3', line: 'line-2-3'},
                    {from: '3', to: '6', line: 'line-3-6'},
                    {from: '4', to: '5', line: 'line-4-5'},
                    {from: '4', to: '7', line: 'line-4-7'},
                    {from: '5', to: '8', line: 'line-5-8'},
                    {from: '7', to: '8', line: 'line-7-8'},
                    {from: '6', to: 'wasteland', line: 'line-6-9'}
                ];
                
                connections.forEach(conn => {
                    const lineElement = document.getElementById(conn.line);
                    if (lineElement) {
                        lineElement.classList.add('active');
                        // Position the line between sectors (simplified positioning)
                        positionConnectionLine(lineElement, conn.from, conn.to);
                    }
                });
                
            } else if (mode === 'tmz') {
                // Show TMZ connections to other cities
                document.querySelectorAll('.tmz-connection').forEach(tmz => {
                    tmz.classList.add('active');
                });
            }
        }

        function positionConnectionLine(lineElement, fromSector, toSector) {
            // Simplified positioning for connection lines
            // In a real implementation, you'd calculate exact positions
            const positions = {
                '1': {top: 50, left: 50},
                '2': {top: 17, left: 50},
                '3': {top: 17, left: 83},
                '4': {top: 50, left: 17},
                '5': {top: 83, left: 17},
                '6': {top: 83, left: 50},
                '7': {top: 83, left: 83},
                '8': {top: 50, left: 83},
                'wasteland': {top: 17, left: 17}
            };
            
            const fromPos = positions[fromSector];
            const toPos = positions[toSector];
            
            if (fromPos && toPos) {
                const deltaX = toPos.left - fromPos.left;
                const deltaY = toPos.top - fromPos.top;
                const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;
                
                lineElement.style.left = fromPos.left + '%';
                lineElement.style.top = fromPos.top + '%';
                lineElement.style.width = distance + '%';
                lineElement.style.transform = `rotate(${angle}deg)`;
                lineElement.style.transformOrigin = '0 50%';
            }
        }

        // Control panel interactions
        document.querySelectorAll('.control-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                switchMode(btn.dataset.mode);
            });
        });

        function showSectorInfo(sectorId) {
            const data = sectorData[sectorId];
            if (!data) return;
            
            const panel = document.getElementById('infoPanel');
            const title = document.getElementById('infoTitle');
            const description = document.getElementById('infoDescription');
            const specs = document.getElementById('infoSpecs');
            
            title.textContent = data.title;
            description.textContent = data.description;
            
            // Build specs
            specs.innerHTML = '';
            
            // Add danger warning if applicable
            if (data.danger) {
                const warning = document.createElement('div');
                warning.className = 'danger-warning';
                warning.innerHTML = '‚ö†Ô∏è <strong>EXTREME DANGER:</strong> This area poses critical risks to all personnel. Unauthorized access is strictly prohibited and may result in temporal displacement, reality fragmentation, or complete erasure from existence.';
                specs.appendChild(warning);
            }
            
            // Basic specs section
            const basicSection = document.createElement('div');
            basicSection.className = 'spec-section';
            basicSection.innerHTML = '<h3>BASIC INFORMATION</h3>';
            
            Object.entries(data.specs).forEach(([key, value]) => {
                const specItem = document.createElement('div');
                specItem.className = 'spec-item';
                specItem.innerHTML = `
                    <span class="spec-label">${key}:</span>
                    <span class="spec-value">${value}</span>
                `;
                basicSection.appendChild(specItem);
            });
            specs.appendChild(basicSection);
            
            // Mode-specific analysis
            if (currentMode !== 'overview') {
                const modeSection = document.createElement('div');
                modeSection.className = 'spec-section';
                modeSection.innerHTML = `<h3>${modeData[currentMode].label}</h3>`;
                
                const modeDesc = document.createElement('div');
                modeDesc.style.cssText = 'color: rgba(135, 206, 235, 0.8); font-size: 11px; margin-bottom: 15px; line-height: 1.4;';
                modeDesc.textContent = modeData[currentMode].description;
                modeSection.appendChild(modeDesc);
                
                if (data.stats) {
                    const statValue = data.stats[currentMode];
                    const statItem = document.createElement('div');
                    statItem.className = 'spec-item';
                    statItem.innerHTML = `
                        <span class="spec-label">${modeData[currentMode].label} Rating:</span>
                        <span class="spec-value">${statValue}/100</span>
                    `;
                    modeSection.appendChild(statItem);
                    
                    // Add mode-specific details
                    if (currentMode === 'transport' && data.connections) {
                        const connItem = document.createElement('div');
                        connItem.className = 'spec-item';
                        connItem.innerHTML = `
                            <span class="spec-label">Connected Sectors:</span>
                            <span class="spec-value">${data.connections.join(', ')}</span>
                        `;
                        modeSection.appendChild(connItem);
                        
                        if (data.transportHubs && data.transportHubs.length > 0) {
                            const hubItem = document.createElement('div');
                            hubItem.className = 'spec-item';
                            hubItem.innerHTML = `
                                <span class="spec-label">Transport Hubs:</span>
                                <span class="spec-value">${data.transportHubs.length} Active</span>
                            `;
                            modeSection.appendChild(hubItem);
                        }
                    }
                    
                    if (currentMode === 'tmz' && data.tmzConnections) {
                        const tmzItem = document.createElement('div');
                        tmzItem.className = 'spec-item';
                        tmzItem.innerHTML = `
                            <span class="spec-label">TMZ Network:</span>
                            <span class="spec-value">${data.tmzConnections.length} Connections</span>
                        `;
                        modeSection.appendChild(tmzItem);
                        
                        data.tmzConnections.forEach(tmz => {
                            const tmzDetail = document.createElement('div');
                            tmzDetail.className = 'spec-item';
                            tmzDetail.style.borderBottom = 'none';
                            tmzDetail.style.fontSize = '9px';
                            tmzDetail.style.color = 'rgba(135, 206, 235, 0.7)';
                            tmzDetail.innerHTML = `
                                <span style="color: #00d4ff;">‚Üí</span>
                                <span>${tmz}</span>
                            `;
                            modeSection.appendChild(tmzDetail);
                        });
                    }
                }
                
                specs.appendChild(modeSection);
            }
            
            // Transport details section
            if (currentMode === 'transport' || currentMode === 'tmz') {
                const transportSection = document.createElement('div');
                transportSection.className = 'spec-section';
                transportSection.innerHTML = '<h3>TRANSPORT INFORMATION</h3>';
                
                if (currentMode === 'transport') {
                    const transportInfo = document.createElement('div');
                    transportInfo.style.cssText = 'color: rgba(135, 206, 235, 0.8); font-size: 11px; line-height: 1.4;';
                    transportInfo.innerHTML = `
                        <strong>Chrono-Rail System:</strong> Quantum-levitation trains travel at 737 km/h while experiencing only 7% temporal passage. All citizens undergo temporal adjustment protocols before boarding.<br><br>
                        <strong>Transit Security:</strong> Reality verification chambers scan all passengers. Temporal signatures monitored continuously during travel.<br><br>
                        <strong>Hub Operations:</strong> Major transport hubs feature temporal isolation chambers and emergency quantum teleportation for CHRONOS officials.
                    `;
                    transportSection.appendChild(transportInfo);
                } else if (currentMode === 'tmz') {
                    const tmzInfo = document.createElement('div');
                    tmzInfo.style.cssText = 'color: rgba(135, 206, 235, 0.8); font-size: 11px; line-height: 1.4;';
                    tmzInfo.innerHTML = `
                        <strong>TMZ Network:</strong> Global network of 127 Temporal Metropolitan Zones connected by stabilized quantum corridors.<br><br>
                        <strong>Travel Requirements:</strong> Level 3+ temporal clearance required for inter-TMZ travel. 24-hour temporal readjustment period mandatory after arrival.<br><br>
                        <strong>Quantum Teleportation:</strong> Available only to highest CHRONOS officials. Limited to 7 uses per individual per year due to temporal signature degradation.
                    `;
                    transportSection.appendChild(tmzInfo);
                }
                
                specs.appendChild(transportSection);
            }
            
            panel.classList.add('active');
        }

        function closeInfo() {
            document.getElementById('infoPanel').classList.remove('active');
        }

        function toggleHelp() {
            // This function is now replaced by openWorldGuide()
            openWorldGuide();
        }

        function openWorldGuide() {
            const modal = document.getElementById('worldGuideModal');
            modal.classList.add('active');
            
            // Trigger animations after modal appears
            setTimeout(() => {
                // Reset and restart clock animation
                const clockAnimation = modal.querySelector('.temporal-clock-animation');
                clockAnimation.style.animation = 'none';
                clockAnimation.offsetHeight; // Trigger reflow
                clockAnimation.style.animation = 'clockAppear 2s ease-out forwards';
                
                // Reset and restart energy particles
                const particles = modal.querySelectorAll('.energy-particle');
                particles.forEach((particle, index) => {
                    particle.style.animation = 'none';
                    particle.offsetHeight; // Trigger reflow
                    particle.style.animation = `energyFloat 3s ease-in-out infinite ${index * 0.5}s`;
                });
                
                // Reset and restart section animations
                const sections = modal.querySelectorAll('.guide-section');
                sections.forEach((section, index) => {
                    section.style.animation = 'none';
                    section.offsetHeight; // Trigger reflow
                    section.style.animation = `sectionAppear 0.8s ease-out forwards ${0.2 + index * 0.2}s`;
                });
            }, 100);
        }

        function closeWorldGuide() {
            const modal = document.getElementById('worldGuideModal');
            modal.classList.remove('active');
        }

        // Sector interactions
        document.querySelectorAll('.sector').forEach(sector => {
            sector.addEventListener('click', () => {
                sector.classList.add('tapped');
                setTimeout(() => sector.classList.remove('tapped'), 400);
                
                const sectorId = sector.dataset.sector;
                showSectorInfo(sectorId);
            });
        });

        // Update status with more dynamic information
        function updateStatus() {
            const status = document.querySelector('.header .status');
            if (!status) return;
            
            const time = new Date().toLocaleTimeString('en-US', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            
            const population = '2.7M';
            const anomalies = Math.floor(Math.random() * 5) + 15; // 15-19 anomalies
            const tmzStatus = ['ACTIVE', 'MONITORING', 'SYNCHRONIZED'][Math.floor(Math.random() * 3)];
            
            status.textContent = `TMZ ‚Ä¢ CHRONOS CONTROL ${tmzStatus} ‚Ä¢ POP: ${population} ‚Ä¢ ANOMALIES: ${anomalies} ‚Ä¢ ${time}`;
        }

        // Touch gestures for mobile navigation
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            const deltaX = touchEndX - touchStartX;
            const minSwipeDistance = 80;
            
            if (Math.abs(deltaX) > minSwipeDistance) {
                const modes = ['overview', 'security', 'population', 'temporal', 'transport', 'economy', 'tmz'];
                const currentIndex = modes.indexOf(currentMode);
                
                if (deltaX > 0 && currentIndex > 0) {
                    switchMode(modes[currentIndex - 1]);
                } else if (deltaX < 0 && currentIndex < modes.length - 1) {
                    switchMode(modes[currentIndex + 1]);
                }
            }
        }, { passive: true });

        // Initialize application
        function init() {
            createParticles();
            updateStatus();
            setInterval(updateStatus, 3000);
            
            // Initialize with overview mode
            updateSectorData('overview');
            
            // Add dramatic startup animation
            setTimeout(() => {
                document.querySelectorAll('.sector').forEach((sector, index) => {
                    setTimeout(() => {
                        sector.style.transform = 'scale(1.1) rotateY(10deg)';
                        sector.style.filter = 'brightness(1.3)';
                        setTimeout(() => {
                            sector.style.transform = '';
                            sector.style.filter = '';
                        }, 300);
                    }, index * 120);
                });
            }, 1000);
            
            // Periodic visual enhancements
            setInterval(() => {
                const randomSector = document.querySelectorAll('.sector')[Math.floor(Math.random() * 9)];
                const originalTransform = randomSector.style.transform;
                randomSector.style.transform = 'scale(1.02)';
                randomSector.style.filter = 'brightness(1.1)';
                setTimeout(() => {
                    randomSector.style.transform = originalTransform;
                    randomSector.style.filter = '';
                }, 800);
            }, 15000);
        }

        // Prevent zoom on mobile
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Start the application
        init();

        console.log('üåÜ Boston Prime TMZ Interface Online');
        console.log('‚è∞ CHRONOS Control Systems Active');
        console.log('üîç 8 Sectors + Wasteland Mapped');
        console.log('üöä Transport Network Visualized');
        console.log('üåê TMZ Global Network Connected');
        console.log('‚ö†Ô∏è Quantum Wasteland Monitoring Active');
        console.log('üìä Multi-Mode Analysis Ready');
    </script>
</body>
</html>
